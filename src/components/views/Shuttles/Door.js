import React, { Component } from "react";

export default class Door extends Component {
  constructor(props) {
    super(props);
    this.state = {
      open: !props.open // Set it to the correct value on mounting
    };
  }
  componentDidMount() {
    setTimeout(
      () =>
        this.setState({
          open: this.props.open
        }),
      100
    );
  }
  componentWillReceiveProps(newProps) {
    this.setState({
      open: newProps.open
    });
  }
  render() {
    const { number = "01" } = this.props;
    const { open } = this.state;
    return (
      <div className={`door`}>
        <div className="door-container">
          <svg
            height="100%"
            className={open ? "open" : ""}
            style={{
              fillRule: "evenodd",
              clipRule: "evenodd",
              strokeLinejoin: "round",
              strokeMiterlimit: "1.41421"
            }}
            width="100%"
            version="1.1"
            viewBox="0 0 128 128"
            xmlSpace="preserve"
          >
            <g transform="matrix(0.921875,0,0,0.921875,5,1.63787)">
              <path
                style={{ fill: "rgb(52,52,52)" }}
                d="M128,128L0,128L0,35L28,7.294L100,7.294L128,35L128,128Z"
              />
              <path
                style={{ fill: "rgb(80,80,80)" }}
                d="M100.422,2.976L100.841,3.037L101.251,3.139L101.65,3.281L102.033,3.461L102.396,3.677L102.737,3.927L103.052,4.21L131.052,31.916L131.341,32.232L131.598,32.575L131.82,32.942L132.004,33.329L132.15,33.732L132.254,34.148L132.318,34.572L132.339,35L132.339,128L132.315,128.454L132.244,128.902L132.127,129.341L131.964,129.765L131.758,130.169L131.51,130.55L131.224,130.903L130.903,131.224L130.55,131.51L130.169,131.758L129.765,131.964L129.341,132.127L128.902,132.244L128.454,132.315L128,132.339L0,132.339L-0.454,132.315L-0.902,132.244L-1.341,132.127L-1.765,131.964L-2.169,131.758L-2.55,131.51L-2.903,131.224L-3.224,130.903L-3.51,130.55L-3.758,130.169L-3.964,129.765L-4.127,129.341L-4.244,128.902L-4.315,128.454L-4.339,128L-4.339,35L-4.318,34.572L-4.254,34.148L-4.15,33.732L-4.004,33.329L-3.82,32.942L-3.598,32.575L-3.341,32.232L-3.052,31.916L24.948,4.21L25.263,3.927L25.604,3.677L25.967,3.461L26.35,3.281L26.749,3.139L27.159,3.037L27.578,2.976L28,2.955L100,2.955L100.422,2.976ZM28,7.294L0,35L0,128L128,128L128,35L100,7.294L28,7.294Z"
              />
            </g>
            <path
              style={{ fill: "rgb(88,88,88)" }}
              d="M123,119.638L5,119.638L5,115.95L123,115.95L123,119.638ZM123,112.914L5,112.914L5,109.226L123,109.226L123,112.914ZM123,106.189L5,106.189L5,102.502L123,102.502L123,106.189ZM123,99.465L5,99.465L5,95.778L123,95.778L123,99.465ZM123,92.741L5,92.741L5,89.053L123,89.053L123,92.741ZM123,38.947L84.918,38.947C85.769,39.068 86.563,39.463 87.179,40.078C87.707,40.606 88.073,41.268 88.242,41.983L123,41.983L123,45.671L88.35,45.671L88.35,48.708L123,48.708L123,52.395L88.35,52.395L88.35,55.432L123,55.432L123,59.119L88.35,59.119L88.35,62.156L123,62.156L123,65.844L88.35,65.844L88.35,68.881L123,68.881L123,72.568L88.35,72.568L88.35,75.605L123,75.605L123,79.292L88.242,79.292C88.073,80.008 87.707,80.67 87.179,81.198C86.563,81.813 85.769,82.207 84.918,82.329L123,82.329L123,86.017L5,86.017L5,82.329L43.082,82.329C42.231,82.207 41.437,81.813 40.821,81.198C40.293,80.67 39.927,80.008 39.758,79.292L5,79.292L5,75.605L39.65,75.605L39.65,72.568L5,72.568L5,68.881L39.65,68.881L39.65,65.844L5,65.844L5,62.156L39.65,62.156L39.65,59.119L5,59.119L5,55.432L39.65,55.432L39.65,52.395L5,52.395L5,48.708L39.65,48.708L39.65,45.671L5,45.671L5,41.983L39.758,41.983C39.927,41.268 40.293,40.606 40.821,40.078C41.437,39.463 42.231,39.068 43.082,38.947L5,38.947L5,35.259L123,35.259L123,38.947ZM121.319,32.222L6.681,32.222L10.369,28.535L117.631,28.535L121.319,32.222ZM114.595,25.498L13.405,25.498L17.093,21.811L110.907,21.811L114.595,25.498ZM107.87,18.774L20.13,18.774L23.817,15.086L104.183,15.086L107.87,18.774ZM101.146,12.05L26.854,12.05L30.541,8.362L97.459,8.362L101.146,12.05Z"
            />
            <g transform="matrix(1,0,0,1,-0.5,9)">
              <text
                style={{
                  fontFamily: "'Impact', sans-serif",
                  fontStretch: "condensed",
                  fontSize: "36px",
                  fill: "rgb(41,41,41)"
                }}
                x="44.821px"
                y="65.459px"
              >
                {number.split("").join(" ")}
              </text>
            </g>
          </svg>
        </div>
      </div>
    );
  }
}
